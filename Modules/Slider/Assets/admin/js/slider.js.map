{"version":3,"file":"/Modules/Slider/Assets/admin/js/slider.js","mappings":"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","sources":["webpack://fleetcart/./Modules/Slider/Resources/assets/admin/js/Slide.js","webpack://fleetcart/./Modules/Slider/Resources/assets/admin/js/main.js","webpack://fleetcart/./Modules/Slider/Resources/assets/admin/js/Slider.js"],"sourcesContent":["export default class {\r\n    constructor(data) {\r\n        this.slidePanelHtml = this.getSlidePanelHtml(data);\r\n    }\r\n\r\n    getSlidePanelHtml(data) {\r\n        data.slide.options = data.slide.options || this.getDefaultOptions();\r\n\r\n        let template = _.template($('#slide-template').html());\r\n\r\n        return $(template(data));\r\n    }\r\n\r\n    getDefaultOptions() {\r\n        return { caption_1: {}, caption_2: {}, direction: 'left', call_to_action: {} };\r\n    }\r\n\r\n    render() {\r\n        this.attachEventListeners();\r\n        this.showSelectedOptionBlock();\r\n\r\n        return this.slidePanelHtml;\r\n    }\r\n\r\n    attachEventListeners() {\r\n        this.slidePanelHtml.find('.delete-slide').on('click', () => {\r\n            this.slidePanelHtml.remove();\r\n        });\r\n\r\n        this.slidePanelHtml.find('.change-option-block').on('change', (e) => {\r\n            this.slidePanelHtml.find('.slide-options').hide();\r\n            this.slidePanelHtml.find(`.${e.currentTarget.value}`).show();\r\n        });\r\n    }\r\n\r\n    showSelectedOptionBlock() {\r\n        setTimeout(() => {\r\n            this.slidePanelHtml.find('.change-option-block').trigger('change');\r\n        });\r\n    }\r\n}\r\n","import Slider from './Slider';\r\n\r\nnew Slider();\r\n\r\n$('#autoplay').on('change', (e) => {\r\n    $('.autoplay-speed-field').toggleClass('hide');\r\n});\r\n\r\nwindow.admin.removeSubmitButtonOffsetOn('#slides');\r\n","import Slide from './Slide';\r\n\r\nexport default class {\r\n    constructor() {\r\n        this.slideCount = 0;\r\n\r\n        this.addSlides(FleetCart.data['slider.slides']);\r\n\r\n        if (this.slideCount === 0) {\r\n            this.addSlide();\r\n        }\r\n\r\n        this.attachEventListeners();\r\n        this.makeSlidesSortable();\r\n    }\r\n\r\n    addSlides(slides) {\r\n        for (let attributes of slides) {\r\n            this.addSlide(attributes);\r\n        }\r\n    }\r\n\r\n    addSlide(attributes = {}) {\r\n        let slide = new Slide({ slideNumber: this.slideCount++, slide: attributes });\r\n\r\n        $('#slides-wrapper').append(slide.render());\r\n    }\r\n\r\n    attachEventListeners() {\r\n        $('.add-slide').on('click', () => {\r\n            this.addSlide();\r\n        });\r\n\r\n        this.attachImagePickerEventListener();\r\n    }\r\n\r\n    attachImagePickerEventListener() {\r\n        $('#slides-wrapper').on('click', '.slide-image', (e) => {\r\n            let picker = new MediaPicker({ type: 'image' });\r\n\r\n            picker.on('select', (file) => {\r\n                let html = `\r\n                    <img src=\"${file.path}\">\r\n                    <input type=\"hidden\" name=\"slides[${e.currentTarget.dataset.slideNumber}][file_id]\" value=\"${file.id}\">\r\n                `;\r\n\r\n                $(e.currentTarget).html(html);\r\n            });\r\n        });\r\n    }\r\n\r\n    makeSlidesSortable() {\r\n        Sortable.create(document.getElementById('slides-wrapper'), {\r\n            handle: '.slide-drag',\r\n            animation: 150,\r\n        });\r\n    }\r\n}\r\n"],"names":["_default","data","_classCallCheck","this","slidePanelHtml","getSlidePanelHtml","key","value","slide","options","getDefaultOptions","template","_","$","html","caption_1","caption_2","direction","call_to_action","attachEventListeners","showSelectedOptionBlock","_this","find","on","remove","e","hide","concat","currentTarget","show","_this2","setTimeout","trigger","slideCount","addSlides","FleetCart","addSlide","makeSlidesSortable","slides","_step","_iterator","_createForOfIteratorHelper","s","n","done","attributes","err","f","arguments","length","undefined","Slide","slideNumber","append","render","attachImagePickerEventListener","MediaPicker","type","file","path","dataset","id","Sortable","create","document","getElementById","handle","animation","toggleClass","window","admin","removeSubmitButtonOffsetOn"],"sourceRoot":""}